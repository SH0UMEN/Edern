function openMesBox(e,t){let o=document.querySelector(".message-box"),s=document.querySelector(".message-box .head .text");document.querySelector(".message-box .body").innerHTML=t,s.innerHTML=e,o.classList.add("shown")}function closeMesBox(){document.querySelector(".message-box").classList.remove("shown")}function resetCertForm(){let e=document.querySelector("#cert"),t=e.querySelectorAll(".certificate .text"),o=e.querySelectorAll("input");e.classList.remove("second-slide"),e.classList.remove("shown"),e.classList.remove("third-slide");for(let e of o)e.value="";for(let e of t)e.innerHTML="&nbsp;"}"1"!=localStorage.getItem("cookie-agree")&&document.querySelector(".cookie-policy").classList.add("shown");let ppInit=()=>{document.querySelector(".third-form .fields").innerHTML="",paypal.Buttons({createOrder:function(e,t){let o=document.querySelector("input[data-cert=amount]").value;return t.order.create({purchase_units:[{amount:{value:o.toString(),currency_code:"EUR"}}]})},onApprove:function(e,t){return openMesBox("Paiement traité","Le certificat sera envoyé bientôt"),resetCertForm(),t.order.capture().then(function(t){let o=new FormData;return o.append("orderID",e.orderID),o.append("action","check-order"),o.append("receiverName",document.querySelector("#cert [data-cert=to]").value),o.append("senderName",document.querySelector("#cert [data-cert=from]").value),o.append("sender",document.querySelector("#cert [name=your-name]").value),o.append("senderEmail",document.querySelector("#cert [name=your-email]").value),o.append("receiverEmail",document.querySelector("#cert [name=email-to]").value),fetch(API,{method:"post",body:o})})}}).render("#cert .third-form .fields")};$(document).ready(function(){let e=2*$(".nav .left").width(),t=!1,o=$("#philosophy"),s=$("#slider-two"),n=$("#chief"),r=$("#contacts-add"),a=$("main"),c=null,l=!1;function i(){l=!($(window).width()>640)}function d(e){$("#"+e).addClass("shown")}function u(){l?c&&(c.destroy(),c=null):c||(c=new PerfectScrollbar("main",{suppressScrollY:!0,useBothWheelAxes:!0}))}function f(){if($("body").toggleClass("menu-opened"),t)$(a).css({transform:"scale(1)","-webkit-transform":"scale(1)"});else{let t=$(a).width(),o=(t-e)/t;$(a).css({transform:"scale("+o+")","-webkit-transform":"scale("+o+")"})}t=!t}$(".message-box .shadow, .message-box .close-mes-box").on("click",closeMesBox),i(),u(),$("#menu .items").each(function(){new PerfectScrollbar(this)}),function(e,t,o){t/=100;let s=$(window).width()*t,n=!1;o=o||"shown",$(e).sort(function(e,t){return $(e).offset().left-$(t).offset().left});let r=()=>{for(;0!=e.length&&$($(e)[0]).offset().left<s;)$($(e)[0]).removeClass(o),e=$(e).slice(1)};$(a).bind("scroll",r),n=!0,$(a).scroll(),$(window).on("resize",function(){s=$(window).width()*t,l?($(a).unbind("scroll",r),n=!1):n||($(a).bind("scroll",r),n=!0)})}(".section-title-block, .sos-photo, #menu .cards, .press-item, .map-wrapper, #contacts .contacts, .wins, #contacts-add, .photo-desc",80,"hide"),$("#menu .cards").each(function(){let e=$(this).find(".card");$(e).each(function(e){$(this).css("transition-delay",.2*e+"s")})}),$(a).css("transform","scale(1)"),$("#first-screen .slider").slick({arrows:!1,dots:!0,appendDots:"#first-screen",autoplay:!0,autoplaySpeed:3600,pauseOnFocus:!1,pauseOnHover:!1,variableWidth:!0,draggable:!1,swipe:!1}),$("#slider-two .slider").slick({arrows:!1,dots:!0,appendDots:"#slider-two",autoplay:!0,autoplaySpeed:3600,pauseOnFocus:!1,pauseOnHover:!1,variableWidth:!0,draggable:!1,swipe:!1}),$(".slick-dots li").append('<svg version="1.1" id="circle" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16px" height="16px" viewBox="0 0 17 17"><g stroke-width="1"><circle class="circle" cx="8.5" cy="8.5" r="8" fill="none" stroke="#ffffff" /></g></svg>'),$(window).on("resize",function(){e=2*$(".nav .left").width(),i(),u()});new PerfectScrollbar(".categories",{suppressScrollY:!0,useBothWheelAxes:!0});$(".nav li a").on("click",f),$(".open-menu").on("click",f),$(".mob-nav a").on("click",f);let m=$(".theme-changing");$(a).on("scroll",function(){l?$(m).each(function(){let e=$(this).offset().top+$(this).height();e>$(o).offset().top?$(this).addClass("black"):$(this).removeClass("black"),e>$(s).offset().top&&$(this).removeClass("black"),e>$(n).offset().top&&$(this).addClass("black"),e>$(r).offset().top&&$(this).removeClass("black")}):$(m).each(function(){let e=$(this).offset().left+$(this).width();e>$(o).offset().left?$(this).addClass("black"):$(this).removeClass("black"),e>$(s).offset().left&&$(this).removeClass("black"),e>$(n).offset().left&&$(this).addClass("black"),e>$(r).offset().left&&$(this).removeClass("black")})});let p=0,h=$(".nav li a");$("input[name=date]").datepicker({minDate:0,maxDate:"+12M",dateFormat:"dd/mm/yy"}),$(h).on("mouseover",function(){let e=$(this).attr("href").indexOf("#"),t=$(this).attr("href").slice(e);p=$(a).scrollLeft(),$(a).scrollLeft(document.querySelector(t).offsetLeft)}),$(h).on("mouseout",function(){$(a).scrollLeft(p)}),$(".swipe-to-next").on("click",function(){let e=$(this).parents("section").next();l?$(a).animate({scrollTop:$(e).offset().top},500):$(a).animate({scrollLeft:$(e).offset().left},500)}),$(h).on("click",function(){p=$(a).scrollLeft()}),$("button.reservation").on("click",function(){d("reservation")}),$(".popup .close-popup").on("click",function(){let e=$(this).parent(".popup");$(e).removeClass("shown"),$(e).find("input, textarea").each(function(){$(this).val(""),$(this).blur()})}),$(".popup form input, .popup form textarea").on("focus",function(){$(this).parent().addClass("triggered")}),$(".popup form input:not([name=date]), .popup form textarea").on("blur",function(){0==$(this).val().length&&$(this).parent().removeClass("triggered")}),$(".popup form input[name=date]").on("change",function(){0===$(this).val().length&&$(this).parent().removeClass("triggered")}),$("button.cert").on("click",function(){d("cert")}),$("#cert input.cert-field").on("input",function(){let e=$(this).data("cert"),t=$("#cert-"+e);$(this).val().length>0?$(t).html("amount"==e?$(this).val()+"€":$(this).val()):$(t).html("&nbsp;")});let v=$("#reservation form").validate();$("#reservation form").on("submit",function(e){if(e.preventDefault(),v.form()){let e=new FormData(this);e.append("action","reservation"),$.ajax({url:"/wp-admin/admin-ajax.php",method:"post",data:e,processData:!1,contentType:!1,success:e=>{"1"==e?($("#reservation").removeClass("shown"),openMesBox("Merci","Un million de mercis")):openMesBox("Erreur","Quelque chose s’est mal passé. Merci de réessayer ultérieurement.")}})}});let w=$("#cert form").validate();$(".next-form").on("click",function(e){let t=!0;$("#cert .first-form input").each(function(){1==t?t=w.element($(this)):w.element($(this))}),t&&$("#cert").addClass("second-slide"),e.preventDefault()}),$("#cert .back").on("click",function(e){let t=$("#cert");$(t).hasClass("second-slide")?$(t).removeClass("second-slide"):(ppInit(),$(t).removeClass("third-slide"),$(t).addClass("second-slide")),e.preventDefault()}),$("#cert .to-pay").on("click",function(e){let t=!0;$("#cert .second-form input").each(function(){1==t?t=w.element($(this)):w.element($(this))}),t&&($("#cert").removeClass("second-slide"),$("#cert").addClass("third-slide")),e.preventDefault()}),$("#menu .categories .category").on("click",function(){let e=$(this).data("menu");$("#menu .categories .category").removeClass("active"),$("#menu .menu-item").removeClass("shown"),$("#menu #menu-"+e).addClass("shown"),$(this).addClass("active")}),document.querySelector(".cookie-policy .agree").addEventListener("click",()=>{localStorage.setItem("cookie-agree","1"),document.querySelector(".cookie-policy").classList.remove("shown")})}),window.addEventListener("load",()=>{document.querySelector("body").classList.remove("preloader-opened"),setTimeout(()=>{document.querySelector(".map iframe").src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2624.185593639847!2d2.2961792158602865!3d48.87373840757964!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47e66fea4bb88ac7:0x8dcaef984736d93e!2sEdern!5e0!3m2!1sfr!2sfr!4v1576352306700!5m2!1sfr!2sfr"},1e3);let e=document.querySelectorAll("img[data-lazy]");for(let t of e)t.src=t.dataset.lazy});