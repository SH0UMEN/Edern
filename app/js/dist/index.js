function openMesBox(e,t){let o=document.querySelector(".message-box"),n=document.querySelector(".message-box .head .text");document.querySelector(".message-box .body").innerHTML=t,n.innerHTML=e,o.classList.add("shown")}function closeMesBox(){document.querySelector(".message-box").classList.remove("shown")}function resetCertForm(){let e=document.querySelector("#cert"),t=e.querySelectorAll(".certificate .text"),o=e.querySelectorAll("input");e.classList.remove("second-slide"),e.classList.remove("shown"),e.classList.remove("third-slide");for(let e of o)e.value="";for(let e of t)e.innerHTML="&nbsp;"}"1"!=localStorage.getItem("cookie-agree")&&document.querySelector(".cookie-policy").classList.add("shown");let ppInit=()=>{paypal.Buttons({createOrder:function(e,t){let o=document.querySelector("input[data-cert=amount]").value;return t.order.create({purchase_units:[{amount:{value:o.toString(),currency_code:"EUR"}}]})},onApprove:function(e,t){return openMesBox("Paiement traité","Le certificat sera envoyé bientôt"),resetCertForm(),t.order.capture().then(function(t){let o=new FormData;return o.append("orderID",e.orderID),o.append("action","check-order"),o.append("receiverName",document.querySelector("#cert [data-cert=to]").value),o.append("senderName",document.querySelector("#cert [data-cert=from]").value),o.append("sender",document.querySelector("#cert [name=your-name]").value),o.append("senderEmail",document.querySelector("#cert [name=your-email]").value),o.append("receiverEmail",document.querySelector("#cert [name=email-to]").value),fetch(API,{method:"post",body:o})})}}).render("#cert .third-form .fields")};$(document).ready(function(){let e=2*$(".nav .left").width(),t=!1,o=$("#philosophy"),n=$("#slider-two"),r=$("#chief"),s=$("#contacts-add"),a=$("main"),c=null,i=!1,l="/wp-admin/admin-ajax.php";function d(){i=!($(window).width()>640)}function u(e){$("#"+e).addClass("shown")}function m(){i?c&&(c.destroy(),c=null):c||(c=new PerfectScrollbar("main",{suppressScrollY:!0,useBothWheelAxes:!0}))}function f(){if($("body").toggleClass("menu-opened"),t)$(a).css({transform:"scale(1)","-webkit-transform":"scale(1)"});else{let t=$(a).width(),o=(t-e)/t;$(a).css({transform:"scale("+o+")","-webkit-transform":"scale("+o+")"})}t=!t}ppInit=(()=>{paypal.Buttons({createOrder:function(e,t){let o=document.querySelector("input[data-cert=amount]").value;return t.order.create({purchase_units:[{amount:{value:o.toString(),currency_code:"EUR"}}]})},onApprove:function(e,t){return openMesBox("Paiement traité","Le certificat sera envoyé bientôt"),resetCertForm(),t.order.capture().then(function(t){let o=new FormData;return o.append("orderID",e.orderID),o.append("action","check-order"),o.append("receiverName",$("#cert [data-cert=to]").val()),o.append("senderName",$("#cert [data-cert=from]").val()),o.append("sender",$("#cert [name=your-name]").val()),o.append("senderEmail",$("#cert [name=your-email]").val()),o.append("receiverEmail",$("#cert [name=email-to]").val()),fetch(l,{method:"post",body:o})})}}).render("#cert .third-form .fields")}),$(".message-box .shadow, .message-box .close-mes-box").on("click",closeMesBox),d(),m(),$("#menu .items").each(function(){new PerfectScrollbar(this)}),function(e,t,o){t/=100;let n=$(window).width()*t,r=!1;o=o||"shown",$(e).sort(function(e,t){return $(e).offset().left-$(t).offset().left});let s=()=>{for(;0!=e.length&&$($(e)[0]).offset().left<n;)$($(e)[0]).removeClass(o),e=$(e).slice(1)};$(a).bind("scroll",s),r=!0,$(a).scroll(),$(window).on("resize",function(){n=$(window).width()*t,i?($(a).unbind("scroll",s),r=!1):r||($(a).bind("scroll",s),r=!0)})}(".section-title-block, .sos-photo, #menu .cards, .press-item, .map-wrapper, #contacts .contacts, .wins, #contacts-add, .photo-desc",80,"hide"),$("#menu .cards").each(function(){let e=$(this).find(".card");$(e).each(function(e){$(this).css("transition-delay",.2*e+"s")})}),$(a).css("transform","scale(1)"),$("#first-screen .slider").slick({arrows:!1,dots:!0,appendDots:"#first-screen",autoplay:!0,autoplaySpeed:3600,pauseOnFocus:!1,pauseOnHover:!1,variableWidth:!0,draggable:!1,swipe:!1}),$("#slider-two .slider").slick({arrows:!1,dots:!0,appendDots:"#slider-two",autoplay:!0,autoplaySpeed:3600,pauseOnFocus:!1,pauseOnHover:!1,variableWidth:!0,draggable:!1,swipe:!1}),$(".map iframe").attr("src","https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d862.007839245216!2d2.2975583802191553!3d48.87397606029203!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47e66fea4ba8872f%3A0xe9b7b4b4f4024772!2zNiBSdWUgQXJzw6huZSBIb3Vzc2F5ZSwgNzUwMDggUGFyaXMsINCk0YDQsNC90YbQuNGP!5e0!3m2!1sru!2sru!4v1573306475072!5m2!1sru!2sru"),$(".slick-dots li").append('<svg version="1.1" id="circle" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16px" height="16px" viewBox="0 0 17 17"><g stroke-width="1"><circle class="circle" cx="8.5" cy="8.5" r="8" fill="none" stroke="#ffffff" /></g></svg>'),$(window).on("resize",function(){e=2*$(".nav .left").width(),d(),m()});new PerfectScrollbar(".categories",{suppressScrollY:!0,useBothWheelAxes:!0});$(".nav li a").on("click",f),$(".open-menu").on("click",f),$(".mob-nav a").on("click",f);let p=$(".theme-changing");$(a).on("scroll",function(){i?$(p).each(function(){let e=$(this).offset().top+$(this).height();e>$(o).offset().top?$(this).addClass("black"):$(this).removeClass("black"),e>$(n).offset().top&&$(this).removeClass("black"),e>$(r).offset().top&&$(this).addClass("black"),e>$(s).offset().top&&$(this).removeClass("black")}):$(p).each(function(){let e=$(this).offset().left+$(this).width();e>$(o).offset().left?$(this).addClass("black"):$(this).removeClass("black"),e>$(n).offset().left&&$(this).removeClass("black"),e>$(r).offset().left&&$(this).addClass("black"),e>$(s).offset().left&&$(this).removeClass("black")})});let h=0,v=$(".nav li a");$.mask.definitions["@"]="[0-3]",$.mask.definitions["!"]="[0-2]",$.mask.definitions["~"]="[0-1]",$("input[name=date]").mask("@9/~9/!!99"),new PerfectScrollbar("#cert .form-inner",{suppressScrollX:!0}),$(v).on("mouseover",function(){let e=$(this).attr("href").slice(1);h=$(a).scrollLeft(),$(a).scrollLeft(document.querySelector(e).offsetLeft)}),$(v).on("mouseout",function(){$(a).scrollLeft(h)}),$(".swipe-to-next").on("click",function(){let e=$(this).parents("section").next();i?$(a).animate({scrollTop:$(e).offset().top},500):$(a).animate({scrollLeft:$(e).offset().left},500)}),$(v).on("click",function(){h=$(a).scrollLeft()}),$("button.reservation").on("click",function(){u("reservation")}),$(".popup .close-popup").on("click",function(){$(this).parent(".popup").removeClass("shown")}),$(".popup form input, .popup form textarea").on("focus",function(){$(this).parent().addClass("triggered")}),$(".popup form input, .popup form textarea").on("blur",function(){0==$(this).val().length&&$(this).parent().removeClass("triggered")}),$("button.cert").on("click",function(){u("cert")}),$("#cert input.cert-field").on("input",function(){let e=$(this).data("cert"),t=$("#cert-"+e);$(this).val().length>0?$(t).html("amount"==e?$(this).val()+"€":$(this).val()):$(t).html("&nbsp;")});let w=$("#reservation form").validate();$("#reservation form").on("submit",function(e){if(e.preventDefault(),w.form()){let e=new FormData(this);e.append("action","reservation"),$.ajax({url:l,method:"post",data:e,processData:!1,contentType:!1,success:e=>{"1"==e?($("#reservation").removeClass("shown"),openMesBox("Thanks","Thanks a million")):openMesBox("Error","Something went wrong. Please try again late")}})}});let b=$("#cert form").validate();$(".next-form").on("click",function(e){let t=!0;$("#cert .first-form input").each(function(){1==t?t=b.element($(this)):b.element($(this))}),t&&$("#cert").addClass("second-slide"),e.preventDefault()}),$("#cert .back").on("click",function(e){let t=$("#cert");$(t).hasClass("second-slide")?$(t).removeClass("second-slide"):($(t).removeClass("third-slide"),$(t).addClass("second-slide")),e.preventDefault()}),$("#cert .to-pay").on("click",function(e){let t=!0;$("#cert .second-form input").each(function(){1==t?t=b.element($(this)):b.element($(this))}),t&&($("#cert").removeClass("second-slide"),$("#cert").addClass("third-slide")),e.preventDefault()}),$("#menu .categories .category").on("click",function(){let e=$(this).data("menu");$("#menu .categories .category").removeClass("active"),$("#menu .menu-item").removeClass("shown"),$("#menu #menu-"+e).addClass("shown"),$(this).addClass("active")}),document.querySelector(".cookie-policy .agree").addEventListener("click",()=>{localStorage.setItem("cookie-agree","1"),document.querySelector(".cookie-policy").classList.remove("shown")})}),window.addEventListener("load",()=>{document.querySelector("body").classList.remove("preloader-opened")});