let ppInit;$(document).ready(function(){let e=2*$(".nav .left").width(),t=!1,s=$("#philosophy"),o=$("#slider-two"),n=$("#chief"),a=$("#contacts-add"),r=$("main"),l=null,i=!1,c=$(".message-box"),f=$(c).find(".head .text"),d=$(c).find(".body"),p="/wp-admin/admin-ajax.php";function u(){i=!($(window).width()>640)}function m(e){$("#"+e).addClass("shown")}function h(){i?l&&(l.destroy(),l=null):l||(l=new PerfectScrollbar("main",{suppressScrollY:!0,useBothWheelAxes:!0}))}function v(e,t){$(d).html(t),$(f).html(e),$(c).addClass("shown")}function w(){if($("body").toggleClass("menu-opened"),t)$(r).css({transform:"scale(1)","-webkit-transform":"scale(1)"});else{let t=$(r).width(),s=(t-e)/t;$(r).css({transform:"scale("+s+")","-webkit-transform":"scale("+s+")"})}t=!t}ppInit=(()=>{paypal.Buttons({createOrder:function(e,t){let s=document.querySelector("input[data-cert=amount]").value;return t.order.create({purchase_units:[{amount:{value:s.toString(),currency_code:"EUR"}}]})},onApprove:function(e,t){return v("Paiement traité","Le certificat sera envoyé bientôt"),$("#cert input").val(""),$("#cert").removeClass("second-slide third-slide shown"),$("#cert .certificate .text").html("&nbsp;"),t.order.capture().then(function(t){let s=new FormData;return s.append("orderID",e.orderID),s.append("action","check-order"),s.append("receiverName",$("#cert [data-cert=to]").val()),s.append("senderName",$("#cert [data-cert=from]").val()),s.append("sender",$("#cert [name=your-name]").val()),s.append("senderEmail",$("#cert [name=your-email]").val()),s.append("receiverEmail",$("#cert [name=email-to]").val()),fetch(p,{method:"post",body:s})})}}).render("#cert .third-form .fields")}),$(".message-box .shadow, .message-box .close-mes-box").on("click",function(){$(c).removeClass("shown")}),u(),h(),function(e,t,s){t/=100;let o=$(window).width()*t,n=!1;s=s||"shown",$(e).sort(function(e,t){return $(e).offset().left-$(t).offset().left});let a=()=>{for(;0!=e.length&&$($(e)[0]).offset().left<o;)$($(e)[0]).addClass(s),e=$(e).slice(1)};i||($(r).bind("scroll",a),n=!0),$(r).scroll(),$(window).on("resize",function(){o=$(window).width()*t,i?($(r).unbind("scroll",a),n=!1):n||($(r).bind("scroll",a),n=!0)})}(".section-title-block, .photo-wrapper",70),$(r).css("transform","scale(1)"),$("#first-screen .slider").slick({arrows:!1,dots:!0,appendDots:"#first-screen",autoplay:!0,autoplaySpeed:3600,pauseOnFocus:!1,pauseOnHover:!1,variableWidth:!0,draggable:!1,swipe:!1}),$("#slider-two .slider").slick({arrows:!1,dots:!0,appendDots:"#slider-two",autoplay:!0,autoplaySpeed:3600,pauseOnFocus:!1,pauseOnHover:!1,variableWidth:!0,draggable:!1,swipe:!1}),$(".map iframe").attr("src","https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d862.007839245216!2d2.2975583802191553!3d48.87397606029203!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47e66fea4ba8872f%3A0xe9b7b4b4f4024772!2zNiBSdWUgQXJzw6huZSBIb3Vzc2F5ZSwgNzUwMDggUGFyaXMsINCk0YDQsNC90YbQuNGP!5e0!3m2!1sru!2sru!4v1573306475072!5m2!1sru!2sru"),$(".slick-dots li").append('<svg version="1.1" id="circle" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16px" height="16px" viewBox="0 0 17 17"><g stroke-width="1"><circle class="circle" cx="8.5" cy="8.5" r="8" fill="none" stroke="#ffffff" /></g></svg>'),$(window).on("resize",function(){e=2*$(".nav .left").width(),u(),h()});new PerfectScrollbar(".categories",{suppressScrollY:!0,useBothWheelAxes:!0});$(".nav li a").on("click",w),$(".open-menu").on("click",w),$(".mob-nav a").on("click",w);let b=$(".theme-changing");$(r).on("scroll",function(){i?$(b).each(function(){let e=$(this).offset().top+$(this).height();e>$(s).offset().top?$(this).addClass("black"):$(this).removeClass("black"),e>$(o).offset().top&&$(this).removeClass("black"),e>$(n).offset().top&&$(this).addClass("black"),e>$(a).offset().top&&$(this).removeClass("black")}):$(b).each(function(){let e=$(this).offset().left+$(this).width();e>$(s).offset().left?$(this).addClass("black"):$(this).removeClass("black"),e>$(o).offset().left&&$(this).removeClass("black"),e>$(n).offset().left&&$(this).addClass("black"),e>$(a).offset().left&&$(this).removeClass("black")})});let g=0,k=$(".nav li a");$(k).on("mouseover",function(){let e=$(this).attr("href").slice(1);g=$(r).scrollLeft(),$(r).scrollLeft(document.querySelector(e).offsetLeft)}),$(k).on("mouseout",function(){$(r).scrollLeft(g)}),$(".swipe-to-next").on("click",function(){let e=$(this).parents("section").next();i?$(r).animate({scrollTop:$(e).offset().top},500):$(r).animate({scrollLeft:$(e).offset().left},500)}),$(k).on("click",function(){g=$(r).scrollLeft()}),$("button.reservation").on("click",function(){m("reservation")}),$(".popup .close-popup").on("click",function(){$(this).parent(".popup").removeClass("shown")}),$(".popup form input, .popup form textarea").on("focus",function(){$(this).parent().addClass("triggered")}),$(".popup form input, .popup form textarea").on("blur",function(){0==$(this).val().length&&$(this).parent().removeClass("triggered")}),$("button.cert").on("click",function(){m("cert")}),$("#cert input.cert-field").on("input",function(){let e=$(this).data("cert"),t=$("#cert-"+e);$(this).val().length>0?$(t).html("amount"==e?$(this).val()+"€":$(this).val()):$(t).html("&nbsp;")});let C=$("#reservation form").validate();$("#reservation form").on("submit",function(e){if(e.preventDefault(),C.form()){let e=new FormData(this);e.append("action","reservation"),$.ajax({url:p,method:"post",data:e,processData:!1,contentType:!1,success:e=>{"1"==e?($("#reservation").removeClass("shown"),v("Thanks","Thanks a million")):v("Error","Something went wrong. Please try again late")}})}});let x=$("#cert form").validate();$(".next-form").on("click",function(e){let t=!0;$("#cert .first-form input").each(function(){1==t?t=x.element($(this)):x.element($(this))}),t&&$("#cert").addClass("second-slide"),e.preventDefault()}),$("#cert .back").on("click",function(e){let t=$("#cert");$(t).hasClass("second-slide")?$(t).removeClass("second-slide"):($(t).removeClass("third-slide"),$(t).addClass("second-slide")),e.preventDefault()}),$("#cert .to-pay").on("click",function(e){let t=!0;$("#cert .second-form input").each(function(){1==t?t=x.element($(this)):x.element($(this))}),t&&($("#cert").removeClass("second-slide"),$("#cert").addClass("third-slide")),e.preventDefault()}),$("#menu .categories .category").on("click",function(){let e=$(this).data("menu");$("#menu .categories .category").removeClass("active"),$("#menu .menu-item").removeClass("shown"),$("#menu #menu-"+e).addClass("shown"),$(this).addClass("active")})});