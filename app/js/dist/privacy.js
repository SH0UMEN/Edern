let ppInit;$(document).ready(function(){let e=2*$(".nav .left").width(),t=!1,n=$("#contacts-add"),a=$("#privacy"),o=$("main"),s=null,r=!1,i=$(".message-box"),c=$(i).find(".head .text"),l=$(i).find(".body"),d="/wp-admin/admin-ajax.php";function m(){r=!($(window).width()>640)}function u(e){$("#"+e).addClass("shown")}function p(e,t){$(l).html(t),$(c).html(e),$(i).addClass("shown")}function f(){r?s&&(s.destroy(),s=null):s||(s=new PerfectScrollbar("main",{suppressScrollY:!0,useBothWheelAxes:!0}))}function h(){if($("body").toggleClass("menu-opened"),t)$(o).css({transform:"scale(1)","-webkit-transform":"scale(1)"});else{let t=$(o).width(),n=(t-e)/t;$(o).css({transform:"scale("+n+")","-webkit-transform":"scale("+n+")"})}t=!t}ppInit=(()=>{paypal.Buttons({createOrder:function(e,t){let n=document.querySelector("input[data-cert=amount]").value;return t.order.create({purchase_units:[{amount:{value:n.toString(),currency_code:"EUR"}}]})},onApprove:function(e,t){return p("Paiement traité","Le certificat sera envoyé bientôt"),$("#cert input").val(""),$("#cert").removeClass("second-slide third-slide shown"),$("#cert .certificate .text").html("&nbsp;"),t.order.capture().then(function(t){let n=new FormData;return n.append("orderID",e.orderID),n.append("action","check-order"),n.append("receiverName",$("#cert [data-cert=to]").val()),n.append("senderName",$("#cert [data-cert=from]").val()),n.append("sender",$("#cert [name=your-name]").val()),n.append("senderEmail",$("#cert [name=your-email]").val()),n.append("receiverEmail",$("#cert [name=email-to]").val()),fetch(d,{method:"post",body:n})})}}).render("#cert .third-form .fields")}),$(".message-box .shadow, .message-box .close-mes-box").on("click",function(){$(i).removeClass("shown")}),m(),f(),$(o).css("transform","scale(1)"),$(window).on("resize",function(){e=2*$(".nav .left").width(),m(),f()}),$(".nav li a").on("click",h),$(".open-menu").on("click",h),$(".mob-nav a").on("click",h);let v=$(".theme-changing");$(o).on("scroll",function(){r?$(v).each(function(){let e=$(this).offset().top+$(this).height();e>$(a).offset().top?$(this).addClass("black"):$(this).removeClass("black"),e>$(n).offset().top&&$(this).removeClass("black")}):$(v).each(function(){let e=$(this).offset().left+$(this).width();e>$(a).offset().left?$(this).addClass("black"):$(this).removeClass("black"),e>$(n).offset().left&&$(this).removeClass("black")})}),$("button.reservation").on("click",function(){u("reservation")}),$(".popup .close-popup").on("click",function(){$(this).parent(".popup").removeClass("shown")}),$(".popup form input, .popup form textarea").on("focus",function(){$(this).parent().addClass("triggered")}),$(".popup form input, .popup form textarea").on("blur",function(){0==$(this).val().length&&$(this).parent().removeClass("triggered")}),$("button.cert").on("click",function(){u("cert")}),$("#cert input.cert-field").on("input",function(){let e=$(this).data("cert"),t=$("#cert-"+e);$(this).val().length>0?$(t).html("amount"==e?$(this).val()+"€":$(this).val()):$(t).html("&nbsp;")});let w=$("#reservation form").validate();$("#reservation form").on("submit",function(e){if(e.preventDefault(),w.form()){let e=new FormData(this);e.append("action","reservation"),$.ajax({url:d,method:"post",data:e,processData:!1,contentType:!1,success:e=>{"1"==e?($("#reservation").removeClass("shown"),p("Thanks","Thanks a million")):p("Error","Something went wrong. Please try again late")}})}});let C=$("#cert form").validate();$(".next-form").on("click",function(e){let t=!0;$("#cert .first-form input").each(function(){1==t?t=C.element($(this)):C.element($(this))}),t&&$("#cert").addClass("second-slide"),e.preventDefault()}),$("#cert .back").on("click",function(e){let t=$("#cert");$(t).hasClass("second-slide")?$(t).removeClass("second-slide"):($(t).removeClass("third-slide"),$(t).addClass("second-slide")),e.preventDefault()}),$("#cert .to-pay").on("click",function(e){let t=!0;$("#cert .second-form input").each(function(){1==t?t=C.element($(this)):C.element($(this))}),t&&($("#cert").removeClass("second-slide"),$("#cert").addClass("third-slide")),e.preventDefault()}),$("#menu .categories .category").on("click",function(){let e=$(this).data("menu");$("#menu .categories .category").removeClass("active"),$("#menu .menu-item").removeClass("shown"),$("#menu #menu-"+e).addClass("shown"),$(this).addClass("active")})});